# Video Transitions Toolkit

This project contains a collection of video transition effects implemented in Java using FFmpeg commands. It is structured for collaboration, allowing team members to contribute new transition effects with ease.

-----------------------------------------------------
##  Directory Structure

project-root/

│

├── input_videos/     # Input video files (e.g., clip_a.mp4, clip_b.mp4)

├── output_videos/    # Output video files generated by the transition scripts

├── Java Implementation/

│   ├── TransitionEngine.java       # Main class with FFmpeg command generators

│   ├── FFmpegExecutor.java         # Utility for executing FFmpeg commands

│   ├── TransitionEngineDemo.java   # Demo class showing usage examples

│   └── ffmpeg-6.1.1-full_build/    # FFmpeg executable files

│

└── README.md

-----------------------------------------------------


## Requirements

- Java 8 or higher
- FFmpeg (included in the Java Implementation directory)


-----------------------------------------------------

## Run Commands

Compile the Java files:
```
cd "Java Implementation"
javac TransitionEngine.java FFmpegExecutor.java TransitionEngineDemo.java
```

Run the demo:
```
java TransitionEngineDemo
```

Or use the batch files to create transitions directly:
```
create_transition.bat  # Creates a fade transition
create_glitch.bat      # Creates a glitch transition
create_whip.bat        # Creates a whip pan transition
create_zoom.bat        # Creates a zoom transition
```

-----------------------------------------------------

## Configurable Parameters

You can modify the batch files to customize the transition parameters:

### create_transition.bat (Fade Transition)
```
ffmpeg -y -i "input_videos/clip_a.mp4" -i "input_videos/clip_b.mp4" -filter_complex "[0:v]scale=960:540,setsar=1[v0];[1:v]scale=960:540,setsar=1[v1];[v0][v1]xfade=transition=fade:duration=1.0:offset=3,format=yuv420p" -c:v libx264 -preset fast -crf 18 "output_videos/fade_output.mp4"
```

### create_glitch.bat (Glitch Transition)
```
ffmpeg -y -i "input_videos/clip_a.mp4" -i "input_videos/clip_b.mp4" -filter_complex "[0:v]scale=960:540,setsar=1[v0];[1:v]scale=960:540,setsar=1[v1];[v0][v1]xfade=transition=fade:duration=1.2:offset=3,noise=c0s=25:allf=t+u*2.5,rgbashift=rh=5:bh=5:gh=2,format=yuv420p" -c:v libx264 -preset fast -crf 18 "output_videos/glitch_output.mp4"
```

### create_whip.bat (Whip Pan Transition)
```
ffmpeg -y -i "input_videos/clip_a.mp4" -i "input_videos/clip_b.mp4" -filter_complex "[0:v]scale=960:540,setsar=1[v0];[1:v]scale=960:540,setsar=1[v1];[v0][v1]xfade=transition=slideleft:duration=1.0:offset=3,format=yuv420p" -c:v libx264 -preset fast -crf 18 "output_videos/whip_output.mp4"
```

### create_zoom.bat (Zoom Transition)
```
ffmpeg -y -i "input_videos/clip_a.mp4" -i "input_videos/clip_b.mp4" -filter_complex "[0:v]scale=960:540,setsar=1[v0];[1:v]scale=960:540,setsar=1[v1];[v0][v1]xfade=transition=wiperight:duration=1.5:offset=3,format=yuv420p" -c:v libx264 -preset fast -crf 18 "output_videos/wipe_output.mp4"
```


-----------------------------------------------------

## Java Implementation

The Java implementation provides a set of classes that generate FFmpeg command strings for various video transitions. These commands can be executed to create transitions between video clips.

### Requirements

- Java 8 or higher
- FFmpeg installed on the system (for executing the generated commands)

### Classes

#### TransitionEngine

The main class that provides static methods for generating FFmpeg command strings for different transitions.

```java
// Example usage
String fadeCommand = TransitionEngine.getFadeCommand(
    "input1.mp4",
    "input2.mp4",
    "output.mp4",
    1.0  // duration in seconds
);
```

#### FFmpegExecutor

A utility class for executing FFmpeg commands and handling their output.

```java
// Example usage
try {
    int exitCode = FFmpegExecutor.executeCommand(fadeCommand);
    if (exitCode == 0) {
        System.out.println("Transition created successfully!");
    } else {
        System.out.println("Error creating transition: " + exitCode);
    }
} catch (Exception e) {
    e.printStackTrace();
}
```

### Available Java Transitions

1. **Fade Transition**: `getFadeCommand(input1, input2, output, duration)`
2. **Glitch Transition**: `getGlitchCommand(input1, input2, output, duration, glitchStrength)`
3. **Zoom Transition**: `getZoomCommand(input1, input2, output, duration, zoomFactor)`
4. **Blur Transition**: `getBlurCommand(input1, input2, output, duration, maxBlur)`
5. **Whip Pan Transition**: `getWhipPanCommand(input1, input2, output, duration, direction, blurStrength)`
6. **Spin Transition**: `getSpinCommand(input1, input2, output, duration)`
7. **Light Flash Transition**: `getLightFlashCommand(input1, input2, output, duration)`

### Android Integration

To use this in an Android application:

1. Include the TransitionEngine class in your project
2. Use a library like "mobile-ffmpeg" to execute the FFmpeg commands on Android
3. Handle the file paths appropriately for Android's storage system

Example Android integration (pseudo-code):

```java
// Generate the command
String command = TransitionEngine.getFadeCommand(input1, input2, output, 1.0);

// Execute with mobile-ffmpeg
int rc = FFmpeg.execute(command);
if (rc == RETURN_CODE_SUCCESS) {
    Log.i(TAG, "Command execution completed successfully.");
} else {
    Log.i(TAG, "Command execution failed with rc=" + rc);
}
```

-----------------------------------------------------